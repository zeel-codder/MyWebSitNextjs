{"ast":null,"code":"function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar DataBase = require('server/database/DataBaseOperationsBlogInfo'); // import bcrypt from \"bcryptjs\";\n\n\nvar jwt = require('jsonwebtoken');\n\nexport default function handler(_x, _x2) {\n  return _handler.apply(this, arguments);\n}\n\nfunction _handler() {\n  _handler = _asyncToGenerator(function* (req, res) {\n    var {\n      name\n    } = req.body; // console.log(req.body);\n    // your server-side functionality\n\n    yield DataBase.ONConnections();\n    var data = yield DataBase.GetBlogInfoOne(name, DataBase.UserInfo); // console.log(data,12);\n\n    if (data === null) {\n      // console.log('Lest Go');\n      res.status(404).end(JSON.stringify({\n        message: JSON.stringify(data)\n      }));\n    }\n\n    var token = req.body.token || jwt.sign(data.toJSON(), process.env.key, {\n      expiresIn: \"1h\"\n    });\n    res.end(JSON.stringify({\n      result: data,\n      token\n    }));\n  });\n  return _handler.apply(this, arguments);\n}\n\n;","map":null,"metadata":{},"sourceType":"module"}