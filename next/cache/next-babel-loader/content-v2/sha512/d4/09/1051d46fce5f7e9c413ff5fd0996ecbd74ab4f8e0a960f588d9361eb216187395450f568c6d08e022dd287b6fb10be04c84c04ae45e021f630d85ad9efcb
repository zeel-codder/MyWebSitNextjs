{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport axios from 'axios';\nimport bcrypt from 'bcryptjs'; // import React from \"react\";\n\nvar FindUser = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (e, state, Reducer, GotoHome) {\n    e !== null && e.preventDefault();\n    var newUser = {\n      username: state.name,\n      name: state.email,\n      password: state.passWord\n    }; // console.log(newUser);\n\n    axios.post(\"/api/finduser\", _objectSpread({}, newUser)).then( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (res) {\n        // console.log(res.);\n        // console.log(res.data)\n        var data = res.data;\n        res = res.data.result;\n        var isPassWordSame = yield bcrypt.compare(state.passWord, res.password);\n\n        if (isPassWordSame) {\n          newUser.username = res.username;\n          localStorage.setItem('User', JSON.stringify(data)); // dispatchUser({ type: 'UserLogIn', data: res });\n\n          yield GotoHome();\n        } else {\n          alert('Wrong PassWord');\n        }\n\n        Reducer({\n          type: 'changeLoadingFalse'\n        });\n      });\n\n      return function (_x5) {\n        return _ref2.apply(this, arguments);\n      };\n    }()).catch(error => {\n      console.error(error);\n      alert('UserName is not valid');\n      Reducer({\n        type: 'changeLoadingFalse'\n      });\n    });\n  });\n\n  return function FindUser(_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n_c = FindUser;\n\nvar AddUser = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator(function* (e, state, Reducer, GotoHome) {\n    e !== null && e.preventDefault(); // console.log(e)\n\n    if (state.issame) {\n      var newUser = {\n        username: state.name,\n        name: state.email,\n        password: state.passWord\n      };\n      axios.post('/api/adduser', newUser).then( /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator(function* (res) {\n          if (res.status === 200) {\n            var data = res.data;\n            res = res.data.result; // console.log(res);\n\n            localStorage.setItem('User', JSON.stringify(data)); // dispatchUser({ type: 'UserLogIn', data: newUser });\n\n            yield GotoHome();\n          }\n\n          Reducer({\n            type: 'changeLoadingFalse'\n          });\n        });\n\n        return function (_x10) {\n          return _ref4.apply(this, arguments);\n        };\n      }()).catch(error => {\n        // console.log(error);\n        alert('User Exits');\n        Reducer({\n          type: 'changeLoadingFalse'\n        }); // alert('error');\n      });\n    } else {\n      alert('Pass Word Done mathch');\n      Reducer({\n        type: 'changeLoadingFalse'\n      });\n    }\n  });\n\n  return function AddUser(_x6, _x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n_c2 = AddUser;\n\nvar AddUserWithGoogle = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator(function* (data, Reducer, GotoHome) {\n    var newUser = {\n      username: data.profileObj.name,\n      name: data.profileObj.email,\n      password: data.profileObj.googleId,\n      token: data.accessToken\n    }; // console.log(newUser,'<--');\n\n    return yield axios.post('/api/adduser', newUser).then( /*#__PURE__*/function () {\n      var _ref6 = _asyncToGenerator(function* (res) {\n        var datau = res.data;\n        res = res.data.result;\n\n        if (res.status === 200) {// console.log(res);\n          // dispatchUser({ type: 'UserLogIn', data: newUser });\n        }\n\n        localStorage.setItem('User', JSON.stringify(datau));\n        Reducer({\n          type: 'changeLoadingFalse'\n        });\n        yield GotoHome();\n      });\n\n      return function (_x14) {\n        return _ref6.apply(this, arguments);\n      };\n    }()).catch(error => {\n      // console.log(error)/;\n      alert('User Exits');\n      Reducer({\n        type: 'changeLoadingFalse'\n      }); // alert('error');\n    }); // console.log(localStorage.getItem('User'),'<-');\n  });\n\n  return function AddUserWithGoogle(_x11, _x12, _x13) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n_c3 = AddUserWithGoogle;\n\nvar FindUserWithGoogle = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator(function* (data, Reducer, GotoHome) {\n    // console.log(data)\n    // console.log('call')\n    var newUser = {\n      username: data.profileObj.name,\n      name: data.profileObj.email,\n      password: data.profileObj.googleId,\n      token: data.accessToken\n    };\n    yield axios.post('/api/finduser', _objectSpread({}, newUser)).then( /*#__PURE__*/function () {\n      var _ref8 = _asyncToGenerator(function* (res) {\n        var datau = res.data;\n        res = res.data.result; // console.log(res);\n        // console.log()\n        // res = JSON.parse(res.data.message);\n        // console.log(await bcrypt.hash(newUser.password),res.password  )\n\n        var isPassWordSame = yield bcrypt.compare(newUser.password, res.password); // const isPassWordSame=true;\n        // console.log(isPassWordSame)\n\n        if (isPassWordSame) {\n          localStorage.setItem('User', JSON.stringify(datau)); // dispatchUser({ type: 'UserLogIn', data: res });\n\n          yield GotoHome();\n        } else {\n          alert('Wrong PassWord');\n        }\n\n        Reducer({\n          type: 'changeLoadingFalse'\n        });\n      });\n\n      return function (_x18) {\n        return _ref8.apply(this, arguments);\n      };\n    }()).catch(error => {\n      console.error(error);\n      alert('UserName is not valid');\n      Reducer({\n        type: 'changeLoadingFalse'\n      });\n    });\n  });\n\n  return function FindUserWithGoogle(_x15, _x16, _x17) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n_c4 = FindUserWithGoogle;\nexport { FindUser, AddUser, AddUserWithGoogle, FindUserWithGoogle };\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"FindUser\");\n$RefreshReg$(_c2, \"AddUser\");\n$RefreshReg$(_c3, \"AddUserWithGoogle\");\n$RefreshReg$(_c4, \"FindUserWithGoogle\");","map":{"version":3,"sources":["/home/zeel/Desktop/web/My_Introduction/my-intro-nextjs/Components/UserLoging/LoginFunctions.js"],"names":["axios","bcrypt","FindUser","e","state","Reducer","GotoHome","preventDefault","newUser","username","name","email","password","passWord","post","then","res","data","result","isPassWordSame","compare","localStorage","setItem","JSON","stringify","alert","type","catch","error","console","AddUser","issame","status","AddUserWithGoogle","profileObj","googleId","token","accessToken","datau","FindUserWithGoogle"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport bcrypt from 'bcryptjs';\n// import React from \"react\";\n\nconst FindUser = async (e,state,Reducer,GotoHome) => {\n    e!==null && e.preventDefault();\n    const newUser = {\n        username:state.name,\n        name: state.email,\n        password: state.passWord\n    }\n    // console.log(newUser);\n    axios.post(`/api/finduser`, { ...newUser })\n        .then(async (res) => {\n            // console.log(res.);\n            // console.log(res.data)\n            const data=res.data;\n            res = res.data.result;\n            const isPassWordSame=await bcrypt.compare( state.passWord ,res.password );\n            if (isPassWordSame) {\n            \n                newUser.username =res.username;\n                localStorage.setItem('User',JSON.stringify(data));\n                // dispatchUser({ type: 'UserLogIn', data: res });\n                  await GotoHome()\n\n            } else {\n                alert('Wrong PassWord')\n            }\n            Reducer({ type: 'changeLoadingFalse' });\n        })\n        .catch((error) => {\n            console.error(error)\n            alert('UserName is not valid')\n            Reducer({ type: 'changeLoadingFalse' });\n        });\n\n}\n\n\n\nconst AddUser = async (e,state,Reducer,GotoHome) => {\n    e!==null && e.preventDefault();\n    // console.log(e)\n    if (state.issame) {\n\n        const newUser = {\n            username:state.name,\n            name: state.email,\n            password: state.passWord\n        }\n\n        axios.post('/api/adduser', newUser)\n            .then( async (res) => {\n                if (res.status === 200) {\n                    const data=res.data;\n                    res = res.data.result;\n                    // console.log(res);\n                    localStorage.setItem('User',JSON.stringify(data));\n                    // dispatchUser({ type: 'UserLogIn', data: newUser });\n                     await GotoHome();\n                }\n                Reducer({ type: 'changeLoadingFalse' });\n            })\n            .catch((error) => {\n                // console.log(error);\n                alert('User Exits');\n                Reducer({ type: 'changeLoadingFalse' });\n                // alert('error');\n            });\n    } else {\n        alert('Pass Word Done mathch')\n        Reducer({ type: 'changeLoadingFalse' });\n    }\n}\n\n\nconst AddUserWithGoogle=async(data,Reducer,GotoHome)=>{\n    \n    const newUser = {\n        username:data.profileObj.name,\n        name: data.profileObj.email,\n        password: data.profileObj.googleId,\n        token: data.accessToken\n    }\n    // console.log(newUser,'<--');\n    \n    return await axios.post('/api/adduser', newUser)\n    .then(async (res) => {\n        const datau=res.data;\n        res = res.data.result;\n        if (res.status === 200) {\n            // console.log(res);\n            // dispatchUser({ type: 'UserLogIn', data: newUser });\n        }\n        \n        localStorage.setItem('User',JSON.stringify(datau));\n            Reducer({ type: 'changeLoadingFalse' });\n             await GotoHome();\n            \n        })\n        .catch((error) => {\n            // console.log(error)/;\n            alert('User Exits');\n            Reducer({ type: 'changeLoadingFalse' });\n            // alert('error');\n            \n        });\n    // console.log(localStorage.getItem('User'),'<-');\n}\nconst FindUserWithGoogle=async(data,Reducer,GotoHome)=>{\n    // console.log(data)\n    // console.log('call')\n    const newUser = {\n        username:data.profileObj.name,\n        name: data.profileObj.email,\n        password: data.profileObj.googleId,\n        token: data.accessToken\n\n    }\n    await axios.post('/api/finduser', { ...newUser })\n    .then( async (res) => {\n        const datau=res.data;\n        res = res.data.result;\n        // console.log(res);\n        // console.log()\n        // res = JSON.parse(res.data.message);\n        // console.log(await bcrypt.hash(newUser.password),res.password  )\n\n        const isPassWordSame=await bcrypt.compare(newUser.password,res.password);\n        // const isPassWordSame=true;\n        // console.log(isPassWordSame)\n        if (isPassWordSame) {\n            localStorage.setItem('User',JSON.stringify(datau));\n            // dispatchUser({ type: 'UserLogIn', data: res });\n             await GotoHome()\n\n        } else {\n            alert('Wrong PassWord')\n        }\n        Reducer({ type: 'changeLoadingFalse' });\n    })\n    .catch((error) => {\n        console.error(error);\n                alert('UserName is not valid')\n        Reducer({ type: 'changeLoadingFalse' });\n    });\n\n}\nexport {FindUser,AddUser, AddUserWithGoogle,FindUserWithGoogle};"]},"metadata":{},"sourceType":"module"}